
model User {
  id    String @id @default(uuid())
  email String @unique
password String
role Role @default(PATIENT)
status UserStatus @default(ACTIVE)
newChnagePass Boolean @default(true)
createdAt DateTime @default(now())
updatedAt DateTime @updatedAt
admin Admin?
doctor Doctor?
patient Patient?

@@map("users")
}

model Admin{
  id String @id @default(uuid())
  email String @unique
  name String
  contactNumber String?
  profilePhoto String?
  address String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  user User @relation(fields: [email],references: [email])

  @@map("admins")
}

model Doctor{
id String @id @default(uuid())
name String
email String @unique
contactNumber String
profilePhoto String?
address String
designation String
currentWorkplace String
apointmentFee Int
gender Gender
experience Int @default(0)
registrationNumber String
isDeleted Boolean @default(false)
avgRating Float @default(0.0)
qualification String
createdAt DateTime @default(now())
updatedAt DateTime @updatedAt
user User @relation(fields: [email],references: [email])

doctorSchedules DoctorSchedule[]
doctorSpecialties DoctorSpecialties[]
appointments Appointment[]
prescriptions Prescription[]
@@map("doctors")
Review Review[]
}

model Patient{
  id String @id @default(uuid())
  name String
  email String @unique
  contactNumber String?
  profilePhoto String?
  address String?
  gender Gender?
  bloodGroup BloodGroup?
  isDeleted Boolean @default(false)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  prescriptions Prescription[]
  appointments Appointment[]
  Review Review[]
  MedicalReport MedicalReport[]
  PatientHealthData PatientHealthData[]
  user User @relation(fields: [email],references: [email])
  @@map("patients")
}